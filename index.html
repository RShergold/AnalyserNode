<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AnalyserNode</title>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-38971889-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-38971889-1');
  </script>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 3rem 0;
      background-color: #3b4652;
      font-family: sans-serif;
    }

    h1 {
      color: white;
      text-align: center;
      margin-bottom: 2rem;
    }

    header {
      color: white;
      text-align: center;
      margin: 0 auto 3rem auto;
      max-width: 44rem;
      font-size: 1.25rem;
    }

    header a {
      color: white;
    }

    ol {
      max-width: 80rem;
      margin: auto;
      padding: 0;
    }

    li {
      list-style: none;
    }

    @media (min-width: 750px) {
      ol {
        display: flex;
        flex-wrap: wrap;
      }

      li {
        display: flex;
        width: 50%;
      }
    }

    li a {
      display: flex;
      flex-direction: column;
      flex: 1 1 auto;
      text-decoration: none;
      background-color: white;
      margin: 0.5rem;
      border: 1px solid white;
      border-radius: 5px;
      overflow: hidden;
    }

    li a:active {
      background-color: lightgray;
      border-color: lightgray;
    }

    h2 {
      margin: 1rem 1rem 0 1rem;
      color: black;
    }

    img {
      width: 100%;
      height: auto;
      background-color: #3b4652;
    }

    p {
      margin: 1rem;
      color: #88919b;
    }

    code {
      background-color: #3b4752;
      color: white;
      padding: 0 0.25rem;
      border-radius: 2px;
    }
  </style>
</head>

<body>
  <h1>AnalyserNode examples</h1>
  <header>
    A small collection of experiments with the AnalyserNode in the Web Audio Api. All code available on
    <a href="https://github.com/RShergold/AnalyserNode">GitHub</a>
  </header>
  <ol>
    <li>
      <a href="./oscilloscope/">
        <img src="./oscilloscope/screenshot.png"
          srcset="./oscilloscope/screenshot.png, ./oscilloscope/screenshot.x2.png 2x" width="622" height="311">
        <h2>Oscilloscope</h2>
        <p>
          Taken directly from developer.mozilla.org "Visualizations with Web Audio API" article. Uses
          <code>.getByteTimeDomainData()</code> to generate the waveform and <code>.getByteFrequencyData()</code>
          to generate the frequency bar chart.
        </p>
      </a>
    </li>
    <li>
      <a href="./spectrogram/">
        <img src="./spectrogram/screenshot.png"
          srcset="./spectrogram/screenshot.png, ./spectrogram/screenshot.x2.png 2x" width="622" height="311">
        <h2>Spectrogram</h2>
        <p>
          A very basic spectrogram. Each row is one frame output of <code>.getByteFrequencyData()</code>.
        </p>
      </a>
    </li>
    <li>
      <a href="./spectrogram-with-knobs/">
        <img src="./spectrogram-with-knobs/screenshot.png"
          srcset="./spectrogram-with-knobs/screenshot.png, ./spectrogram-with-knobs/screenshot.x2.png 2x" width="622"
          height="311">
        <h2>Spectrogram with knobs</h2>
        <p>
          A spectrogram with the four configurable properties of AnalyserNode exposed in the GUI. A good way to play
          with <code>.fftSize</code> <code>.minDecibels</code> <code>.maxDecibels</code> and
          <code>.smoothingTimeConstant</code> to get a feel for
          what they do.
        </p>
      </a>
    </li>
    <li>
      <a href="./spectrogram-explorer/">
        <img src="./spectrogram-explorer/screenshot.png"
          srcset="./spectrogram-explorer/screenshot.png, ./spectrogram-explorer/screenshot.x2.png 2x" width="622"
          height="311">
        <h2>Spectrogram Explorer</h2>
        <p>
          This little tool allows you to stop the spectrogram. You can then navigate row by row - adding labels to any
          interesting rows. Values are viewable in the browser console or can be exported to a csv file.
        </p>
      </a>
    </li>
    <li>
      <a href="./harmonic-product-spectrum/">
        <img src="./harmonic-product-spectrum/screenshot.png"
          srcset="./harmonic-product-spectrum/screenshot.png, ./harmonic-product-spectrum/screenshot.x2.png 2x"
          width="622" height="311">
        <h2>Harmonic Product Spectrum</h2>
        <p>
          Harmonic Product Spectrum is the simplest real time pitch detection algorithm. We take the initial FFT from
          <code>.getByteFrequencyData()</code> and then downsample it multiple times. The initial FFT and the
          downsamples are multiplied together to create the Harmonic Product Spectrum. The detected pitch is the highest
          peak of the Harmonic Product Spectrum.
        </p>
      </a>
    </li>
    <li>
      <a href="./pitch/">
        <img src="./pitch/screenshot.png" srcset="./pitch/screenshot.png, ./pitch/screenshot.x2.png 2x" width="622"
          height="311">
        <h2>Pitch</h2>
        <p>
          Harmonic Product Spectrum mapped to piano keys.
        </p>
      </a>
    </li>
  </ol>
</body>

</html>
